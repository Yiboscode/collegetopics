/* empty css                *//* empty css                  *//* empty css               *//* empty css            *//* empty css               *//* empty css                  *//* empty css              */import{_ as E,r as V,O as v,c as w,a,b as o,w as t,K as y,o as z,L as S,z as k,u as d,ax as I,aC as N,S as R,T as U,A as h,j as p,E as f,f as _}from"./index-BlySnbrc.js";import{r as q}from"./request-CfAbx4ue.js";const B={class:"login-container"},C={class:"login-box"},A={__name:"Login",setup(L){const r=V({dialogVisible:!0,form:{},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}}),i=v(),g=()=>{i.value.validate(m=>{m&&q.post("/login",r.form).then(e=>{e.code==="200"?(f.success("登录成功"),localStorage.setItem("xm-user",JSON.stringify(e.data)),e.data.role==="USER"?_.push("/front/home"):_.push("/manager/home")):f.error(e.msg)})})};return(m,e)=>{const u=k,s=S,n=U,c=R,x=h,b=y;return z(),w("div",B,[a("div",C,[e[5]||(e[5]=a("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px",color:"#1450aa"}},"创新创业课程考核项目选题系统",-1)),o(b,{ref_key:"formRef",ref:i,model:r.form,rules:r.rules},{default:t(()=>[o(s,{prop:"username"},{default:t(()=>[o(u,{"prefix-icon":d(I),size:"large",modelValue:r.form.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.form.username=l),placeholder:"请输入账号"},null,8,["prefix-icon","modelValue"])]),_:1}),o(s,{prop:"password"},{default:t(()=>[o(u,{"show-password":"","prefix-icon":d(N),size:"large",modelValue:r.form.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.form.password=l),placeholder:"请输入密码"},null,8,["prefix-icon","modelValue"])]),_:1}),o(s,{prop:"role"},{default:t(()=>[o(c,{size:"large",modelValue:r.form.role,"onUpdate:modelValue":e[2]||(e[2]=l=>r.form.role=l)},{default:t(()=>[o(n,{value:"ADMIN",label:"管理员"}),o(n,{value:"USER",label:"用户"}),o(n,{value:"TEACHER",label:"教师"})]),_:1},8,["modelValue"])]),_:1}),o(s,null,{default:t(()=>[o(x,{size:"large",type:"primary",style:{width:"100%"},onClick:g},{default:t(()=>e[3]||(e[3]=[p("登 录")])),_:1})]),_:1}),e[4]||(e[4]=a("div",{style:{"text-align":"right"}},[p(" 还没有账号？请 "),a("a",{href:"/register"},"注册")],-1))]),_:1},8,["model","rules"])])])}}},G=E(A,[["__scopeId","data-v-7bebdccf"]]);export{G as default};
