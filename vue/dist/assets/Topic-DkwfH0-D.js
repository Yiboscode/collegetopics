/* empty css                *//* empty css               *//* empty css                *//* empty css                          *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css                     *//* empty css                  *//* empty css               *//* empty css              */import{_ as G,O as y,r as J,X as Q,c as C,a,b as e,w as l,K as W,a3 as Y,C as Z,D as ee,a7 as te,o as u,L as le,z as oe,S as ae,T as se,A as ne,j as i,k as ie,u as re,aa as ue,F as de,x as pe,m,a4 as ce,n as _,H as _e,t as r,P as me,a5 as ve,a6 as ge,N as fe,E as j}from"./index-BlySnbrc.js";/* empty css                    */import{r as I}from"./request-CfAbx4ue.js";const ye={class:"main-content"},be={class:"search-card"},xe={class:"card",style:{"margin-bottom":"20px",padding:"20px"}},he={key:0,style:{"text-align":"center","margin-bottom":"15px"}},ke={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},we=["onClick"],Ce={style:{"margin-bottom":"15px","line-height":"20px",height:"60px",color:"#666"},class:"line3"},Ee=["onClick"],ze={style:{color:"#666","font-size":"13px"}},Ve={style:{"margin-bottom":"5px"}},Te={style:{"margin-bottom":"5px"}},Ue={style:{"margin-left":"5px"}},Se={style:{"margin-bottom":"5px"}},$e={style:{"margin-left":"5px"}},De={style:{"margin-bottom":"15px"}},Be={style:{"margin-left":"5px"}},Ne={style:{"text-align":"center"}},je={style:{"text-align":"center","margin-top":"20px"}},Ie={key:0,style:{padding:"20px"}},Fe={style:{"text-align":"center"}},Me={style:{"margin-top":"20px"}},Re={style:{"white-space":"pre-wrap","line-height":"1.6"}},Oe={style:{"white-space":"pre-wrap","line-height":"1.6"}},Pe={style:{"white-space":"pre-wrap","line-height":"1.6"}},qe={style:{"white-space":"pre-wrap","line-height":"1.6"}},Le={style:{"white-space":"pre-wrap","line-height":"1.6"}},Ae={__name:"Topic",setup(He){const z=te(),V=y([]),T=y(0),g=y(1),b=y(6),c=J({title:"",category:"",status:""}),x=y(!1),n=y(null);Q(()=>{f()});const f=()=>{I.get("/topic/my",{params:{pageNum:g.value,pageSize:b.value,...c}}).then(s=>{s.code==="200"&&(V.value=s.data.list||s.data.records||[],T.value=s.data.total||0)})},F=()=>{Object.keys(c).forEach(s=>{c[s]=""}),g.value=1,f()},M=s=>{b.value=s,g.value=1,f()},R=s=>{g.value=s,f()},U=s=>({待评价:"warning",评价中:"primary",审核中:"info",审核通过:"success",审核不通过:"danger"})[s]||"info",O=s=>{n.value=s,x.value=!0},S=s=>{z.push(`/front/topicDetail/${s.id}`)},P=s=>{z.push({path:"/front/topicSubmit",query:{id:s.id}})},q=s=>{fe.confirm("确定要删除这个选题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{I.delete(`/topic/delete/${s.id}`).then(t=>{t.code==="200"?(j.success("删除成功"),f()):j.error(t.msg)})})};return(s,t)=>{const L=oe,h=le,d=se,$=ae,v=ne,A=ie,H=W,D=_e,k=me,E=ce,B=Y,K=Z,p=ge,N=ve,X=ee;return u(),C("div",ye,[a("div",null,[a("div",be,[e(H,{model:c,inline:""},{default:l(()=>[e(h,{label:"选题标题"},{default:l(()=>[e(L,{modelValue:c.title,"onUpdate:modelValue":t[0]||(t[0]=o=>c.title=o),placeholder:"请输入选题标题",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),e(h,{label:"选题分类"},{default:l(()=>[e($,{modelValue:c.category,"onUpdate:modelValue":t[1]||(t[1]=o=>c.category=o),placeholder:"请选择分类",clearable:"",style:{width:"150px"}},{default:l(()=>[e(d,{label:"科技创新",value:"科技创新"}),e(d,{label:"社会实践",value:"社会实践"}),e(d,{label:"文化创意",value:"文化创意"}),e(d,{label:"环境保护",value:"环境保护"}),e(d,{label:"商业模式",value:"商业模式"}),e(d,{label:"公益服务",value:"公益服务"})]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"选题状态"},{default:l(()=>[e($,{modelValue:c.status,"onUpdate:modelValue":t[2]||(t[2]=o=>c.status=o),placeholder:"请选择状态",clearable:"",style:{width:"150px"}},{default:l(()=>[e(d,{label:"待评价",value:"待评价"}),e(d,{label:"评价中",value:"评价中"}),e(d,{label:"审核中",value:"审核中"}),e(d,{label:"审核通过",value:"审核通过"}),e(d,{label:"审核不通过",value:"审核不通过"})]),_:1},8,["modelValue"])]),_:1}),e(h,null,{default:l(()=>[e(v,{type:"primary",onClick:f},{default:l(()=>t[8]||(t[8]=[i("查询")])),_:1}),e(v,{onClick:F},{default:l(()=>t[9]||(t[9]=[i("重置")])),_:1}),e(v,{type:"success",onClick:t[3]||(t[3]=o=>s.$router.push("/front/topicSubmit"))},{default:l(()=>[e(A,null,{default:l(()=>[e(re(ue))]),_:1}),t[10]||(t[10]=i(" 提交选题 "))]),_:1})]),_:1})]),_:1},8,["model"])]),a("div",null,[e(B,{gutter:20},{default:l(()=>[(u(!0),C(de,null,pe(V.value,o=>(u(),m(E,{span:8,key:o.id},{default:l(()=>[a("div",xe,[o.imageUrl?(u(),C("div",he,[e(D,{src:o.imageUrl,style:{width:"100%",height:"180px","border-radius":"8px"},fit:"cover","preview-src-list":[o.imageUrl]},null,8,["src","preview-src-list"])])):_("",!0),a("div",ke,[a("div",{style:{"font-size":"18px","font-weight":"bold",cursor:"pointer"},class:"line1",onClick:w=>S(o)},r(o.title),9,we),e(k,{type:U(o.status),size:"small"},{default:l(()=>[i(r(o.status),1)]),_:2},1032,["type"])]),a("div",Ce,r(o.description),1),a("div",{style:{"font-size":"12px",color:"#0066ff",cursor:"pointer","margin-bottom":"15px"},onClick:w=>O(o)}," 查看详情 ",8,Ee),a("div",ze,[a("div",Ve,[t[11]||(t[11]=a("span",null,"选题分类：",-1)),e(k,{size:"small"},{default:l(()=>[i(r(o.category),1)]),_:2},1024)]),a("div",Te,[t[12]||(t[12]=i("关键词：")),a("span",Ue,r(o.keywords),1)]),a("div",Se,[t[13]||(t[13]=i("提交时间：")),a("span",$e,r(o.submitTime),1)]),a("div",De,[t[14]||(t[14]=i("更新时间：")),a("span",Be,r(o.updateTime),1)]),a("div",Ne,[e(v,{type:"primary",size:"small",onClick:w=>S(o)},{default:l(()=>t[15]||(t[15]=[i("详情")])),_:2},1032,["onClick"]),o.status==="待评价"||o.status==="审核不通过"?(u(),m(v,{key:0,type:"warning",size:"small",onClick:w=>P(o)},{default:l(()=>t[16]||(t[16]=[i(" 修改 ")])),_:2},1032,["onClick"])):_("",!0),o.status==="待评价"?(u(),m(v,{key:1,type:"danger",size:"small",onClick:w=>q(o)},{default:l(()=>t[17]||(t[17]=[i(" 删除 ")])),_:2},1032,["onClick"])):_("",!0)])])])]),_:2},1024))),128))]),_:1})]),a("div",je,[e(K,{"current-page":g.value,"onUpdate:currentPage":t[4]||(t[4]=o=>g.value=o),"page-size":b.value,"onUpdate:pageSize":t[5]||(t[5]=o=>b.value=o),"page-sizes":[6,12,18,24],layout:"total, sizes, prev, pager, next, jumper",total:T.value,onSizeChange:M,onCurrentChange:R},null,8,["current-page","page-size","total"])]),e(X,{title:"选题详情",modelValue:x.value,"onUpdate:modelValue":t[7]||(t[7]=o=>x.value=o),width:"70%","close-on-click-modal":!1},{footer:l(()=>[e(v,{onClick:t[6]||(t[6]=o=>x.value=!1)},{default:l(()=>t[18]||(t[18]=[i("关闭")])),_:1})]),default:l(()=>[n.value?(u(),C("div",Ie,[e(B,{gutter:20},{default:l(()=>[e(E,{span:16},{default:l(()=>[e(N,{column:2,border:""},{default:l(()=>[e(p,{label:"选题名称",span:2},{default:l(()=>[i(r(n.value.title),1)]),_:1}),e(p,{label:"分类"},{default:l(()=>[e(k,null,{default:l(()=>[i(r(n.value.category),1)]),_:1})]),_:1}),e(p,{label:"状态"},{default:l(()=>[e(k,{type:U(n.value.status)},{default:l(()=>[i(r(n.value.status),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"关键词",span:2},{default:l(()=>[i(r(n.value.keywords),1)]),_:1}),e(p,{label:"提交时间",span:2},{default:l(()=>[i(r(n.value.submitTime),1)]),_:1}),e(p,{label:"更新时间",span:2},{default:l(()=>[i(r(n.value.updateTime),1)]),_:1})]),_:1})]),_:1}),n.value.imageUrl?(u(),m(E,{key:0,span:8},{default:l(()=>[a("div",Fe,[e(D,{src:n.value.imageUrl,style:{width:"200px",height:"150px","border-radius":"8px",border:"1px solid #dcdfe6"},fit:"cover","preview-src-list":[n.value.imageUrl]},null,8,["src","preview-src-list"])])]),_:1})):_("",!0)]),_:1}),a("div",Me,[e(N,{column:1,border:""},{default:l(()=>[e(p,{label:"选题描述"},{default:l(()=>[a("div",Re,r(n.value.description),1)]),_:1}),n.value.background?(u(),m(p,{key:0,label:"项目背景"},{default:l(()=>[a("div",Oe,r(n.value.background),1)]),_:1})):_("",!0),n.value.objectives?(u(),m(p,{key:1,label:"项目目标"},{default:l(()=>[a("div",Pe,r(n.value.objectives),1)]),_:1})):_("",!0),n.value.methodology?(u(),m(p,{key:2,label:"研究方法"},{default:l(()=>[a("div",qe,r(n.value.methodology),1)]),_:1})):_("",!0),n.value.expectedResults?(u(),m(p,{key:3,label:"预期成果"},{default:l(()=>[a("div",Le,r(n.value.expectedResults),1)]),_:1})):_("",!0)]),_:1})])])):_("",!0)]),_:1},8,["modelValue"])])])}}},rt=G(Ae,[["__scopeId","data-v-c35fbeb5"]]);export{rt as default};
