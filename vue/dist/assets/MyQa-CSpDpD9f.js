/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                *//* empty css               *//* empty css              */import{r as m}from"./request-CfAbx4ue.js";/* empty css                    *//* empty css                */import{_ as y,r as v,c as u,a as r,n as C,b as o,z as N,w as p,A as k,B as q,C as E,o as c,j as g,G as z,u as S,J as V,N as B,E as _}from"./index-BlySnbrc.js";const I={class:"main-content"},M={class:"card",style:{padding:"20px"}},D={style:{"margin-bottom":"20px"}},P={style:{display:"flex"}},T={style:{"margin-bottom":"20px"}},J={key:0},Q={__name:"MyQa",setup(U){const t=v({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),tableData:[],total:0,pageNum:1,pageSize:5,form:{},ids:[],status:null,question:null}),n=()=>{m.get("/qa/selectPage",{params:{pageNum:t.pageNum,pageSize:t.pageSize,userId:t.user.id,question:t.question}}).then(a=>{var e,l;t.tableData=((e=a.data)==null?void 0:e.list)||[],t.total=(l=a.data)==null?void 0:l.total})},f=a=>{B.confirm("删除后数据无法恢复，您确定删除吗?","删除确认",{type:"warning"}).then(e=>{m.delete("/order/delete/"+a).then(l=>{l.code==="200"?(_.success("删除成功"),n()):_.error(l.msg)})}).catch(e=>{console.error(e)})},x=a=>{t.ids=a.map(e=>e.id)},b=()=>{t.question=null,n()};return n(),(a,e)=>{const l=N,d=k,s=z,w=q,h=E;return c(),u("div",I,[e[4]||(e[4]=r("div",{style:{"font-weight":"bold","font-size":"20px","margin-bottom":"20px"}},"我的问答",-1)),r("div",M,[r("div",D,[r("div",P,[o(l,{modelValue:t.question,"onUpdate:modelValue":e[0]||(e[0]=i=>t.question=i),placeholder:"请输入问题查询",style:{width:"240px"}},null,8,["modelValue"]),o(d,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:n},{default:p(()=>e[2]||(e[2]=[g("查询")])),_:1}),o(d,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:b},{default:p(()=>e[3]||(e[3]=[g("重置")])),_:1})])]),r("div",T,[o(w,{data:t.tableData,stripe:"",onSelectionChange:x,"tooltip-effect":"dark dark1"},{default:p(()=>[o(s,{prop:"question",label:"问题","show-overflow-tooltip":""}),o(s,{prop:"teacherName",label:"教师名称","show-overflow-tooltip":"",width:"100px"}),o(s,{prop:"answer",label:"教师回复","show-overflow-tooltip":""}),o(s,{prop:"time",label:"提问时间","show-overflow-tooltip":""}),o(s,{label:"操作",width:"150",fixed:"right"},{default:p(i=>[o(d,{type:"danger",circle:"",icon:S(V),onClick:j=>f(i.row.id)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])]),t.total?(c(),u("div",J,[o(h,{onCurrentChange:n,layout:"total,prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":e[1]||(e[1]=i=>t.pageNum=i),total:t.total},null,8,["page-size","current-page","total"])])):C("",!0)])])}}},ee=y(Q,[["__scopeId","data-v-656e0ca4"]]);export{ee as default};
