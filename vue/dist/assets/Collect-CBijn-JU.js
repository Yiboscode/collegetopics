/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css               */import{r as y,c as i,a as o,t as d,b as c,w as p,a3 as v,n as C,C as b,o as n,F as N,x as k,m as w,a4 as z,u as E,f as S,A as j,av as B,j as L,N as I,E as m}from"./index-BlySnbrc.js";import{r as g}from"./request-CfAbx4ue.js";/* empty css                    *//* empty css              *//* empty css                */const V={class:"main-content"},M={style:{"font-weight":"bold","font-size":"20px","margin-bottom":"20px"}},P={style:{}},D={style:{"margin-bottom":"20px"}},F=["onClick"],T=["src"],$={style:{"font-size":"16px","margin-bottom":"10px"},class:"line1"},q={style:{display:"flex","justify-content":"space-between"}},A={style:{"margin-bottom":"10px"}},J={style:{display:"flex"}},O={key:0,style:{flex:"1"}},st={__name:"Collect",setup(R){const t=y({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),total:0,pageNum:1,pageSize:8,form:{},ids:[],collectList:[]}),r=()=>{g.get("/collect/selectPage",{params:{pageNum:t.pageNum,pageSize:t.pageSize,userId:t.user.id}}).then(l=>{var e,s;t.collectList=((e=l.data)==null?void 0:e.list)||[],t.total=(s=l.data)==null?void 0:s.total})};r();const _=l=>{I.confirm("您确定取消收藏吗?","取消确认",{type:"warning"}).then(e=>{g.delete("/collect/delete/"+l).then(s=>{s.code==="200"?(m.success("取消成功"),r()):m.error(s.msg)})}).catch(e=>{console.error(e)})};return(l,e)=>{const s=j,u=z,f=v,h=b;return n(),i("div",V,[o("div",M,"我的收藏（"+d(t.collectList.length)+"）",1),o("div",P,[o("div",D,[o("div",null,[c(f,{gutter:10},{default:p(()=>[(n(!0),i(N,null,k(t.collectList,a=>(n(),w(u,{span:6,key:a.id},{default:p(()=>[o("div",{style:{"margin-bottom":"10px"},class:"card",onClick:x=>E(S).push("/front/projectDetail?id="+a.projectId)},[o("img",{style:{height:"220px",width:"100%","border-radius":"5px",cursor:"pointer","margin-bottom":"10px"},src:a.projectImg,alt:""},null,8,T),o("div",$,d(a.projectTitle),1),o("div",q,[o("span",A,[c(s,{type:"danger",size:"small",onClick:B(x=>_(a.id),["stop"])},{default:p(()=>e[1]||(e[1]=[L("取消收藏")])),_:2},1032,["onClick"])])])],8,F)]),_:2},1024))),128))]),_:1})]),o("div",J,[t.total?(n(),i("div",O,[c(h,{onCurrentChange:r,layout:"total,prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":e[0]||(e[0]=a=>t.pageNum=a),total:t.total},null,8,["page-size","current-page","total"])])):C("",!0)])])])])}}};export{st as default};
