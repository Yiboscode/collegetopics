/* empty css                *//* empty css                 */import{r as o}from"./request-CfAbx4ue.js";import{L as B,i as l}from"./index-DQYQA18e.js";import{r as w,O as j,X as D,c as M,a as t,b as r,t as n,w as p,a1 as I,E as d,o as k,a2 as L}from"./index-BlySnbrc.js";const P={style:{display:"flex","align-items":"center","grid-gap":"10px","margin-bottom":"10px"}},V={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},X={style:{"text-align":"center","font-size":"20px"}},N={style:{"font-size":"20px"}},q={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},G={style:{"text-align":"center","font-size":"20px"}},J={style:{"font-size":"20px"}},U={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},F={style:{"text-align":"center","font-size":"20px"}},H={style:{"font-size":"20px"}},K={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},Q={style:{"text-align":"center","font-size":"20px"}},R={style:{"font-size":"20px"}},W={style:{display:"flex","align-items":"center","grid-gap":"10px","margin-bottom":"10px"}},Y={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},Z={style:{"text-align":"center","font-size":"20px"}},$={style:{"font-size":"20px"}},tt={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},et={style:{"text-align":"center","font-size":"20px"}},it={style:{"font-size":"20px"}},at={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},st={style:{"text-align":"center","font-size":"20px"}},ot={style:{"font-size":"20px"}},nt={class:"card",style:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px 0"}},lt={style:{"text-align":"center","font-size":"20px"}},dt={style:{"font-size":"20px"}},gt={__name:"Data",setup(rt){const s=w({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),noticeData:[],count:{},topicStats:{}}),g=j("project");o.get("/count").then(i=>{s.count=i.data}),o.get("/echarts/topicStats").then(i=>{s.topicStats=i.data});const u=()=>{o.get("/echarts/pie").then(i=>{if(i.code==="200"){let e=document.getElementById("pie"),a=l(e);f.series[0].data=i.data,a.setOption(f)}else d.error(i.msg)})},_=()=>{o.get("/echarts/line").then(i=>{if(i.code==="200"){let e=document.getElementById("line"),a=l(e);c.xAxis.data=i.data.xAxis,c.series[0].data=i.data.yAxis,a.setOption(c)}else d.error(i.msg)})},b=()=>{o.get("/echarts/topicCategory").then(i=>{if(i.code==="200"){let e=document.getElementById("topicCategory");if(e){let a=l(e);h.series[0].data=i.data,a.setOption(h)}}else d.error(i.msg)})},S=()=>{o.get("/echarts/topicStatus").then(i=>{if(i.code==="200"){let e=document.getElementById("topicStatus");if(e){let a=l(e);v.series[0].data=i.data,a.setOption(v)}}else d.error(i.msg)})},A=()=>{o.get("/echarts/topicTrend").then(i=>{if(i.code==="200"){let e=document.getElementById("topicTrend");if(e){let a=l(e);x.xAxis.data=i.data.xAxis,x.series[0].data=i.data.yAxis,a.setOption(x)}}else d.error(i.msg)})},T=()=>{o.get("/echarts/evaluationScore").then(i=>{if(i.code==="200"){let e=document.getElementById("evaluationScore");if(e){let a=l(e);y.xAxis.data=i.data.xAxis,y.series[0].data=i.data.yAxis,a.setOption(y)}}else d.error(i.msg)})},O=()=>{o.get("/echarts/monthlyTopic").then(i=>{if(i.code==="200"){let e=document.getElementById("monthlyTopic");if(e){let a=l(e);m.xAxis.data=i.data.xAxis,m.series[0].data=i.data.yAxis,a.setOption(m)}}else d.error(i.msg)})},C=i=>{setTimeout(()=>{i==="topic"?(b(),S(),A(),T()):i==="monthly"&&O()},100)};D(()=>{u(),_()});const c={title:{text:"近一周创业活动报名数量统计图",left:"center"},tooltip:{trigger:"axis"},legend:{left:"left"},xAxis:{name:"日期",type:"category",data:[]},yAxis:{name:"人数/个",type:"value"},series:[{data:[],type:"line",smooth:!0,areaStyle:{opacity:.5,color:"rgb(185,190,255)"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]}}]};let f={title:{text:"每个分类的创业项目数量",subtext:"比例图",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{type:"pie",radius:"50%",center:["60%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};const h={title:{text:"选题分类分布",subtext:"按分类统计",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"选题分类",type:"pie",radius:["40%","70%"],center:["60%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},v={title:{text:"选题状态分布",subtext:"按状态统计",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"选题状态",type:"pie",radius:"50%",center:["60%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},x={title:{text:"近一周选题提交趋势",left:"center"},tooltip:{trigger:"axis"},legend:{left:"left"},xAxis:{name:"日期",type:"category",data:[]},yAxis:{name:"提交数量",type:"value"},series:[{name:"选题提交数",data:[],type:"line",smooth:!0,areaStyle:{opacity:.3,color:"rgb(135,206,250)"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]}}]},y={title:{text:"评价分数分布",left:"center"},tooltip:{trigger:"axis"},xAxis:{name:"分数区间",type:"category",data:[]},yAxis:{name:"数量",type:"value"},series:[{name:"评价数量",data:[],type:"bar",itemStyle:{color:"rgb(135,206,250)"},markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]}}]},m={title:{text:"最近12个月选题提交统计",left:"center"},tooltip:{trigger:"axis"},xAxis:{name:"月份",type:"category",data:[],axisLabel:{rotate:45}},yAxis:{name:"选题数量",type:"value"},series:[{name:"选题数量",data:[],type:"bar",itemStyle:{color:new B(0,0,0,1,[{offset:0,color:"rgb(135,206,250)"},{offset:1,color:"rgb(30,144,255)"}])},markLine:{data:[{type:"average",name:"Avg"}]}}]};return(i,e)=>{const a=L,z=I;return k(),M("div",null,[t("div",P,[t("div",V,[t("div",X,[e[1]||(e[1]=t("div",{style:{"margin-bottom":"10px"}},"创业项目数量",-1)),t("div",N,n(s.count.project),1)])]),t("div",q,[t("div",G,[e[2]||(e[2]=t("div",{style:{"margin-bottom":"10px"}},"用户数量",-1)),t("div",J,n(s.count.teacher),1)])]),t("div",U,[t("div",F,[e[3]||(e[3]=t("div",{style:{"margin-bottom":"10px"}},"项目种类",-1)),t("div",H,n(s.count.classify),1)])]),t("div",K,[t("div",Q,[e[4]||(e[4]=t("div",{style:{"margin-bottom":"10px"}},"项目累计报名人数",-1)),t("div",R,n(s.count.enroll),1)])])]),t("div",W,[t("div",Y,[t("div",Z,[e[5]||(e[5]=t("div",{style:{"margin-bottom":"10px"}},"选题总数",-1)),t("div",$,n(s.topicStats.totalTopics||0),1)])]),t("div",tt,[t("div",et,[e[6]||(e[6]=t("div",{style:{"margin-bottom":"10px"}},"评价总数",-1)),t("div",it,n(s.topicStats.totalEvaluations||0),1)])]),t("div",at,[t("div",st,[e[7]||(e[7]=t("div",{style:{"margin-bottom":"10px"}},"平均评分",-1)),t("div",ot,n(s.topicStats.averageScore||0),1)])]),t("div",nt,[t("div",lt,[e[8]||(e[8]=t("div",{style:{"margin-bottom":"10px"}},"本月新增",-1)),t("div",dt,n(s.topicStats.thisMonthTopics||0),1)])])]),r(z,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=E=>g.value=E),onTabChange:C,style:{"margin-bottom":"10px"}},{default:p(()=>[r(a,{label:"创业项目统计",name:"project"},{default:p(()=>e[9]||(e[9]=[t("div",{style:{display:"flex","grid-gap":"10px"}},[t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"500px"},id:"line"})]),t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"500px"},id:"pie"})])],-1)])),_:1}),r(a,{label:"选题管理统计",name:"topic"},{default:p(()=>e[10]||(e[10]=[t("div",{style:{display:"flex","grid-gap":"10px","margin-bottom":"10px"}},[t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"400px"},id:"topicCategory"})]),t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"400px"},id:"topicStatus"})])],-1),t("div",{style:{display:"flex","grid-gap":"10px"}},[t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"400px"},id:"topicTrend"})]),t("div",{class:"card",style:{flex:"1",padding:"40px"}},[t("div",{style:{height:"400px"},id:"evaluationScore"})])],-1)])),_:1}),r(a,{label:"月度趋势分析",name:"monthly"},{default:p(()=>e[11]||(e[11]=[t("div",{class:"card",style:{padding:"40px"}},[t("div",{style:{height:"500px"},id:"monthlyTopic"})],-1)])),_:1})]),_:1},8,["modelValue"])])}}};export{gt as default};
