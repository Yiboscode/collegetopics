/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css               *//* empty css              */import{r as y}from"./request-CfAbx4ue.js";import{r as f,c as p,a as o,n as h,b as n,z as v,w as d,A as b,a3 as z,C,E as N,o as r,j as m,F as w,x as k,m as E,a4 as S,u as V,f as B,t as c}from"./index-BlySnbrc.js";const D={class:"main-content"},P={style:{"margin-bottom":"20px"}},F={style:{display:"flex","grid-gap":"20px"}},I={style:{flex:"1"}},U={style:{"margin-bottom":"20px"}},j=["src"],q={style:{"font-size":"20px","font-weight":"bold",margin:"10px 0"},class:"line1"},A={style:{display:"flex","align-items":"center","grid-gap":"5px"}},J={style:{flex:"1",color:"#666","font-size":"13px",display:"flex","align-items":"center"}},L={style:{"margin-left":"5px"}},M={style:{"font-size":"13px",color:"#666",display:"flex","align-items":"center"}},O={style:{"margin-left":"2px"}},R={key:0},ot={__name:"Promote",setup(T){const t=f({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),total:0,pageNum:1,pageSize:6,tableData:[],title:null}),s=()=>{y.get("/promote/selectPage",{params:{pageNum:t.pageNum,pageSize:t.pageSize,title:t.title}}).then(l=>{var e,i;t.tableData=((e=l.data)==null?void 0:e.list)||[],t.total=(i=l.data)==null?void 0:i.total}).catch(l=>{N.error("加载数据失败")})};return s(),(l,e)=>{const i=v,g=b,u=S,_=z,x=C;return r(),p("div",D,[o("div",P,[n(i,{modelValue:t.title,"onUpdate:modelValue":e[0]||(e[0]=a=>t.title=a),placeholder:"请输入标题查询",style:{width:"400px",height:"40px"},clearable:"",onClear:s},null,8,["modelValue"]),n(g,{type:"primary",plain:"",style:{"margin-left":"10px",height:"40px",width:"100px"},onClick:s},{default:d(()=>e[2]||(e[2]=[m("查询")])),_:1})]),o("div",F,[o("div",I,[n(_,{gutter:20},{default:d(()=>[(r(!0),p(w,null,k(t.tableData,a=>(r(),E(u,{span:8,class:"item",key:a.id,style:{cursor:"pointer"},onClick:$=>V(B).push("/front/promoteDetail?id="+a.id)},{default:d(()=>[o("div",U,[o("img",{src:a.img,style:{width:"100%",height:"200px","border-radius":"5px 5px 0 0"}},null,8,j),o("div",q,c(a.title),1),o("div",A,[o("div",J,[e[3]||(e[3]=m(" 浏览量：")),o("span",L,c(a.views),1)]),o("div",M,[e[4]||(e[4]=m(" 发布时间：")),o("span",O,c(a.time),1)])])])]),_:2},1032,["onClick"]))),128))]),_:1})])]),t.total?(r(),p("div",R,[n(x,{onCurrentChange:s,layout:"total,prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":e[1]||(e[1]=a=>t.pageNum=a),total:t.total},null,8,["page-size","current-page","total"])])):h("",!0)])}}};export{ot as default};
