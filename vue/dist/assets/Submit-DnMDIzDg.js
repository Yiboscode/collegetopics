/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                *//* empty css               *//* empty css              */import{r as S}from"./request-CfAbx4ue.js";/* empty css                    *//* empty css                */import{_ as T,r as N,c as b,a as i,n as d,b as o,z as V,w as l,S as z,A as E,B,C as h,o as r,T as P,j as p,G as D,m as c,P as I}from"./index-BlySnbrc.js";const U={class:"main-content"},O={class:"card",style:{padding:"20px"}},j={style:{"margin-bottom":"20px"}},q={style:{display:"flex"}},A={style:{"margin-bottom":"20px"}},G={key:0},J={__name:"Submit",setup($){const e=N({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),tableData:[],total:0,pageNum:1,pageSize:5,form:{},ids:[],status:null,taskTitle:null}),w=s=>{window.open(s)},u=()=>{S.get("/submit/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,taskTitle:e.taskTitle,status:e.status}}).then(s=>{var t,m;e.tableData=((t=s.data)==null?void 0:t.list)||[],e.total=(m=s.data)==null?void 0:m.total})},y=s=>{e.ids=s.map(t=>t.id)},v=()=>{e.taskTitle=null,e.status=null,u()};return u(),(s,t)=>{const m=V,_=P,k=z,g=E,n=D,f=I,x=B,C=h;return r(),b("div",U,[t[9]||(t[9]=i("div",{style:{"font-weight":"bold","font-size":"20px","margin-bottom":"20px"}},"我的成果",-1)),i("div",O,[i("div",j,[i("div",q,[o(m,{modelValue:e.taskTitle,"onUpdate:modelValue":t[0]||(t[0]=a=>e.taskTitle=a),placeholder:"请输入活动名称查询",style:{width:"240px"}},null,8,["modelValue"]),o(k,{modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=a=>e.status=a),style:{width:"240px","margin-left":"20px"},placeholder:"请选择审核状态查询"},{default:l(()=>[o(_,{label:"待审核",value:"待审核"}),o(_,{label:"审核通过",value:"审核通过"}),o(_,{label:"审核未通过",value:"审核未通过"})]),_:1},8,["modelValue"]),o(g,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:u},{default:l(()=>t[3]||(t[3]=[p("查询")])),_:1}),o(g,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:v},{default:l(()=>t[4]||(t[4]=[p("重置")])),_:1})])]),i("div",A,[o(x,{data:e.tableData,stripe:"",onSelectionChange:y},{default:l(()=>[o(n,{prop:"taskTitle",label:"任务名称","show-overflow-tooltip":""}),o(n,{prop:"teacherName",label:"教师名称"}),o(n,{prop:"title",label:"标题","show-overflow-tooltip":""}),o(n,{prop:"detail",label:"我的成果","show-overflow-tooltip":""},{default:l(a=>[o(g,{type:"primary",onClick:F=>w(a.row.detail),size:"small"},{default:l(()=>t[5]||(t[5]=[p("点击下载")])),_:2},1032,["onClick"])]),_:1}),o(n,{prop:"time",label:"时间","show-overflow-tooltip":""}),o(n,{prop:"status",label:"审核状态"},{default:l(a=>[a.row.status==="待审核"?(r(),c(f,{key:0,type:"warning"},{default:l(()=>t[6]||(t[6]=[p("待审核")])),_:1})):d("",!0),a.row.status==="审核未通过"?(r(),c(f,{key:1,type:"danger"},{default:l(()=>t[7]||(t[7]=[p("审核未通过")])),_:1})):d("",!0),a.row.status==="审核通过"?(r(),c(f,{key:2,type:"success"},{default:l(()=>t[8]||(t[8]=[p("审核通过")])),_:1})):d("",!0)]),_:1}),o(n,{prop:"reason",label:"原因","show-overflow-tooltip":""})]),_:1},8,["data"])]),e.total?(r(),b("div",G,[o(C,{onCurrentChange:u,layout:"total,prev, pager, next","page-size":e.pageSize,"current-page":e.pageNum,"onUpdate:currentPage":t[2]||(t[2]=a=>e.pageNum=a),total:e.total},null,8,["page-size","current-page","total"])])):d("",!0)])])}}},at=T(J,[["__scopeId","data-v-4ffa1af1"]]);export{at as default};
