/* empty css                *//* empty css                  *//* empty css               *//* empty css              *//* empty css               *//* empty css                 */import{r as E}from"./request-CfAbx4ue.js";import{r as U,c as m,a as u,b as a,w as t,K as y,h as k,o as d,M as w,u as B,m as I,k as N,L as S,z as C,A as F,j as P,E as p}from"./index-BlySnbrc.js";const J={style:{width:"40%"},class:"main-content"},M={class:"card"},O={style:{"text-align":"center","margin-bottom":"20px"}},j=["src"],q={style:{"text-align":"center"}},Q={__name:"Person",emits:["updateUser"],setup(z,{emit:i}){const c="/api",e=U({user:JSON.parse(localStorage.getItem("xm-user")||"{}")}),_=s=>{e.user.avatar=s.data},f=i,V=()=>{e.user.role==="USER"&&E.put("/user/update",e.user).then(s=>{s.code==="200"?(p.success("保存成功"),localStorage.setItem("xm-user",JSON.stringify(e.user)),f("updateUser")):p.error(s.msg)})};return(s,o)=>{const v=k("Plus"),g=N,x=w,r=C,n=S,b=F,h=y;return d(),m("div",J,[u("div",M,[a(h,{ref:"user",model:e.user,"label-width":"60px",style:{padding:"20px"}},{default:t(()=>[u("div",O,[a(x,{action:B(c)+"/files/upload","on-success":_,"show-file-list":!1,class:"avatar-uploader"},{default:t(()=>[e.user.avatar?(d(),m("img",{key:0,src:e.user.avatar,class:"avatar"},null,8,j)):(d(),I(g,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[a(v)]),_:1}))]),_:1},8,["action"])]),a(n,{prop:"username",label:"用户名"},{default:t(()=>[a(r,{disabled:"",modelValue:e.user.username,"onUpdate:modelValue":o[0]||(o[0]=l=>e.user.username=l),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),a(n,{prop:"name",label:"姓名"},{default:t(()=>[a(r,{modelValue:e.user.name,"onUpdate:modelValue":o[1]||(o[1]=l=>e.user.name=l),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),a(n,{prop:"phone",label:"电话"},{default:t(()=>[a(r,{modelValue:e.user.phone,"onUpdate:modelValue":o[2]||(o[2]=l=>e.user.phone=l),placeholder:"请输入电话"},null,8,["modelValue"])]),_:1}),a(n,{prop:"email",label:"邮箱"},{default:t(()=>[a(r,{modelValue:e.user.email,"onUpdate:modelValue":o[3]||(o[3]=l=>e.user.email=l),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),u("div",q,[a(b,{type:"primary",onClick:V},{default:t(()=>o[4]||(o[4]=[P("保 存")])),_:1})])]),_:1},8,["model"])])])}}};export{Q as default};
