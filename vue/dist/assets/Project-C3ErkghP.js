/* empty css                *//* empty css                   *//* empty css            *//* empty css               *//* empty css                  *//* empty css            *//* empty css               *//* empty css              */import{r as m}from"./request-CfAbx4ue.js";import{r as h,c as d,a as s,n as v,b as l,z as C,w as r,A as N,a3 as j,C as k,E as w,o as p,j as g,F as z,x as E,m as b,a4 as S,u as V,f as L,t as c}from"./index-BlySnbrc.js";const B={class:"main-content",style:{"padding-bottom":"100px"}},P={style:{display:"flex","margin-bottom":"20px"}},A=["onClick"],D=["src"],F={style:{"font-size":"16px",margin:"10px","line-height":"20px",height:"40px"},class:"line2"},I={style:{display:"flex","align-items":"center",margin:"10px 10px 0 10px","justify-content":"space-between"}},U={style:{flex:"1"}},q={key:0,style:{"margin-top":"10px"}},Z={__name:"Project",setup(J){const t=h({user:JSON.parse(localStorage.getItem("xm-user")||"{}"),projectList:[],classifyList:[],pageNum:1,pageSize:8,total:0,title:null}),n=()=>{m.get("/project/selectPage",{params:{pageNum:t.pageNum,pageSize:t.pageSize,title:t.title,status:"审核通过"}}).then(o=>{var e,i;o.code==="200"?(t.projectList=((e=o.data)==null?void 0:e.list)||[],t.total=(i=o.data)==null?void 0:i.total):w.error(o.msg)})};n(),(()=>{m.get("/classify/selectAll").then(o=>{o.code==="200"&&(t.classifyList=o.data)})})();const _=()=>{t.title=null,n()};return(o,e)=>{const i=C,u=N,x=S,f=j,y=k;return p(),d("div",B,[s("div",P,[l(i,{modelValue:t.title,"onUpdate:modelValue":e[0]||(e[0]=a=>t.title=a),placeholder:"请输入活动名称查询",style:{width:"240px"}},null,8,["modelValue"]),l(u,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:n},{default:r(()=>e[2]||(e[2]=[g("查询")])),_:1}),l(u,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:_},{default:r(()=>e[3]||(e[3]=[g("重置")])),_:1})]),s("div",null,[l(f,{gutter:10},{default:r(()=>[(p(!0),d(z,null,E(t.projectList,a=>(p(),b(x,{span:6,key:a.id,style:{"margin-bottom":"10px"}},{default:r(()=>[s("div",{class:"card",style:{padding:"0 0 10px 0",cursor:"pointer"},onClick:O=>V(L).push("/front/projectDetail?id="+a.id)},[s("img",{src:a.img,alt:"",style:{width:"100%",height:"200px","border-radius":"5px 5px 0 0"}},null,8,D),s("div",F,c(a.classifyName)+" | "+c(a.title),1),s("div",I,[s("div",U,"教师: "+c(a.teacherName),1),s("div",null,"浏览量: "+c(a.views),1)])],8,A)]),_:2},1024))),128))]),_:1})]),t.total?(p(),d("div",q,[l(y,{onCurrentChange:n,layout:"total, prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,"onUpdate:currentPage":e[1]||(e[1]=a=>t.pageNum=a),total:t.total},null,8,["page-size","current-page","total"])])):v("",!0)])}}};export{Z as default};
